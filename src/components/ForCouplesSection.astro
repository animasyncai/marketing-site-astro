---
/**
 * ForCouplesSection Component - Redesigned
 *
 * @description Enhanced section highlighting couple-specific features and insights
 * with improved visual design and layout consistency
 */

import Button from './Button.astro'
import { Icon } from 'astro-icon/components'
import { getTranslationsFromUrl, getTranslation } from '../utils/useTranslation.js'

interface Props {
  class?: string
}

const { class: className } = Astro.props

// Get translations for current language
const translations = await getTranslationsFromUrl(Astro.url.pathname)
const t = (key: string, fallback = '') => {
  return getTranslation(translations, key, {}, fallback)
}
---

<section
  id="for-couples"
  class:list={[className, 'bg-gradient-to-br from-gray-50 to-purple-50/30 py-24']}
  aria-labelledby="couples-headline"
>
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <!-- Enhanced header section -->
    <div class="mb-20 text-center">
      <div class="mb-6 inline-flex items-center gap-3">
        <span class="flex gap-2 rounded-full bg-purple-100 px-3 py-1 text-sm font-medium text-purple-600">
          <Icon name="lucide:heart" class="h-5 w-5 text-purple-600" />
          {t('couples.badge', 'For Couples')}
        </span>
      </div>
      <h2 id="couples-headline" class="mb-6 text-4xl font-bold text-gray-900 sm:text-5xl">
        {t('couples.headline')}
      </h2>
      <p class="mx-auto max-w-3xl text-xl leading-relaxed text-gray-600">
        {t('couples.subheadline')}
      </p>
    </div>

    <!-- Main content grid -->
    <div class="mx-auto grid max-w-6xl gap-12 lg:grid-cols-2">
      <!-- Left side: Enhanced content with better visual hierarchy -->
      <div class="space-y-8">
        <!-- Main description with improved typography -->
        <div class="prose prose-lg">
          <p class="text-lg leading-relaxed text-gray-700">
            {t('couples.description1')}
          </p>
        </div>

        <!-- Enhanced feature highlight card -->
        <div
          class="group relative overflow-hidden rounded-2xl border border-purple-200 bg-gradient-to-br from-purple-50 to-purple-100/50 p-8 transition-all duration-300 hover:border-purple-300 hover:shadow-lg"
        >
          <div
            class="absolute inset-0 bg-gradient-to-br from-purple-100/20 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"
            aria-hidden="true"
          >
          </div>

          <div class="relative z-10">
            <div class="mb-4 flex items-center gap-3">
              <div
                class="flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-purple-200 to-purple-300"
              >
                <Icon name="lucide:users" class="h-5 w-5 text-purple-700" />
              </div>
              <h4 class="text-xl font-semibold text-purple-900">
                {t('couples.coupleSnapshots.title')}
              </h4>
            </div>
            <p class="leading-relaxed text-purple-800">
              {t('couples.coupleSnapshots.description')}
            </p>
          </div>
        </div>
      </div>

      <!-- Right side: Enhanced testimonial and CTA -->
      <div class="space-y-8">
        <!-- Enhanced testimonial card -->
        <div class="group relative">
          <div
            class="absolute inset-0 rotate-1 transform rounded-2xl bg-gradient-to-br from-purple-100/20 to-blue-100/20 transition-transform duration-300 group-hover:rotate-0"
            aria-hidden="true"
          >
          </div>

          <blockquote class="relative z-10 rounded-2xl border border-gray-200 bg-white p-8 shadow-lg">
            <div class="mb-6">
              <Icon name="lucide:quote" class="mb-2 h-8 w-8 text-purple-200" />
              <p class="text-lg leading-relaxed text-gray-700 italic">
                "{t('couples.testimonial.quote')}"
              </p>
            </div>
            <footer class="flex items-center gap-3">
              <div
                class="flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-purple-200 to-purple-300"
              >
                <Icon name="lucide:user" class="h-5 w-5 text-purple-700" />
              </div>
              <div>
                <div class="font-medium text-gray-900">{t('couples.testimonial.author')}</div>
                <div class="text-sm text-gray-500">Verified User</div>
              </div>
            </footer>
          </blockquote>
        </div>

        <!-- Enhanced CTA section -->
        <div class="space-y-4 text-center">
          <Button href="#early-access" variant="primary" size="lg" icon="lucide:heart" class="w-full sm:w-auto">
            {t('couples.cta')}
          </Button>
        </div>
      </div>
    </div>
  </div>
</section>

<style lang="scss">
  @use '../assets/scss/base/breakpoint' as *;

  // Enhanced gradient background
  .bg-gradient-to-br {
    position: relative;

    &::before {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background:
        radial-gradient(circle at 30% 20%, rgba(168, 85, 247, 0.03) 0%, transparent 50%),
        radial-gradient(circle at 70% 80%, rgba(147, 51, 234, 0.03) 0%, transparent 50%);
      pointer-events: none;
      content: '';
    }
  }

  // Enhanced card hover effects
  .group:hover .group-hover\:shadow-lg {
    box-shadow:
      0 20px 25px -5px rgba(0, 0, 0, 0.1),
      0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }

  // Responsive improvements
  @include breakpoint(s) {
    .sm\:grid-cols-2 {
      grid-template-columns: 1fr;
    }

    .lg\:grid-cols-2 {
      grid-template-columns: 1fr;
    }
  }

  // Focus management
  h2:focus,
  h3:focus,
  h4:focus,
  h5:focus {
    outline: 2px solid var(--color-primary-500);
    outline-offset: 4px;
    border-radius: var(--radius-s);
  }

  // Smooth transitions
  * {
    transition-duration: 150ms;
    transition-property:
      color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform,
      filter, backdrop-filter;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }

  // Enhanced testimonial rotation effect
  .group:hover .group-hover\:rotate-0 {
    transform: rotate(0deg);
  }

  // Card depth improvements
  .shadow-lg {
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }

  // Accessibility improvements
  @media (prefers-reduced-motion: reduce) {
    * {
      transition: none;
    }

    .group-hover\:rotate-0 {
      transform: none;
    }
  }
</style>
