---
/**
 * Withinly Landing Page (Lithuanian)
 *
 * @description Lithuanian version of the main landing page
 * Uses Lithuanian translations and maintains same structure
 */

import DefaultLayout from '../../layouts/DefaultLayout.astro'
import HeroWithinly from '../../components/HeroWithinly.astro'
import HowItWorks from '../../components/HowItWorks.astro'
import DifferentiatorSection from '../../components/DifferentiatorSection.astro'
import FeatureComparison from '../../components/FeatureComparison.astro'
import TestimonialSlider from '../../components/TestimonialSlider.astro'
import TrustSignals from '../../components/TrustSignals.astro'
import EmailSignup from '../../components/EmailSignup.astro'
import { getTranslationsFromUrl, getTranslation } from '../../utils/useTranslation.js'

// Get translations for current language (Lithuanian)
const translations = await getTranslationsFromUrl(Astro.url.pathname)
const t = (key: string, fallback = '') => {
  return getTranslation(translations, key, {}, fallback)
}

// Page metadata
const pageTitle = t('meta.defaultTitle')
const pageDescription = t('meta.defaultDescription')
---

<DefaultLayout title={pageTitle} description={pageDescription}>
  <!-- Hero Section -->
  <HeroWithinly showSignup={true} />

  <!-- Opening Hook Section -->
  <section class="hook-section" aria-labelledby="hook-headline">
    <div class="container">
      <div class="hook-content">
        <h2 id="hook-headline" class="hook-headline">
          {t('hook.headline')}
        </h2>
        <div class="hook-description">
          <p>{t('hook.description')}</p>
        </div>
        <div class="hook-value">
          <p>{t('hook.value')}</p>
        </div>
        <blockquote class="hook-quote">
          <p>"{t('hook.quote')}"</p>
        </blockquote>
      </div>
    </div>
  </section>

  <!-- How It Works Section -->
  <HowItWorks />

  <!-- What Makes Us Different -->
  <DifferentiatorSection />

  <!-- Pricing/Features Comparison -->
  <FeatureComparison showPricing={true} />

  <!-- Testimonials -->
  <TestimonialSlider autoPlay={true} />

  <!-- Trust & Safety -->
  <TrustSignals variant="grid" showDescriptions={true} />

  <!-- Early Access Section -->
  <section id="early-access" class="early-access-section" aria-labelledby="early-access-headline">
    <div class="container">
      <div class="early-access-content">
        <h2 id="early-access-headline" class="early-access-headline">
          {t('earlyAccess.headline')}
        </h2>
        <p class="early-access-description">
          {t('earlyAccess.description')}
        </p>

        <div class="early-access-signup">
          <EmailSignup
            variant="section"
            title={t('signup.headline')}
            description={t('signup.description')}
            showLabels={true}
          />
        </div>

        <div class="early-access-benefits">
          <h3>{t('earlyAccess.benefits.title')}</h3>
          <ul class="benefits-list">
            {
              translations.earlyAccess?.benefits?.items?.map((benefit) => (
                <li class="benefit-item">
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" aria-hidden="true">
                    <path
                      d="M7 10l2 2 4-4"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                  {benefit}
                </li>
              )) || []
            }
          </ul>
        </div>

        <p class="early-access-urgency">
          {t('earlyAccess.urgency')}
        </p>
      </div>
    </div>
  </section>

  <!-- Closing Section -->
  <section class="closing-section" aria-labelledby="closing-headline">
    <div class="container">
      <div class="closing-content">
        <h2 id="closing-headline" class="closing-headline">
          {t('closing.headline')}
        </h2>
        <p class="closing-description">
          {t('closing.description')}
        </p>
        <p class="closing-contact">
          {t('closing.contact')}
        </p>
        <p class="closing-languages">
          {t('closing.languages')}
        </p>
      </div>
    </div>
  </section>
</DefaultLayout>

<style lang="scss">
  @use '../../assets/scss/base/breakpoint' as *;
  @use '../../assets/scss/base/mixins' as *;

  // Hook Section
  .hook-section {
    background-color: light-dark(var(--color-neutral-50), var(--color-neutral-850));
    padding-block: var(--space-3xl);
  }

  .hook-content {
    margin: 0 auto;
    max-width: 800px;
    text-align: center;
  }

  .hook-headline {
    margin-bottom: var(--space-l);
    color: var(--foreground-color);
    font-weight: 600;
    font-size: clamp(2rem, 4vw, 3rem);
    line-height: 1.2;
  }

  .hook-description {
    margin-bottom: var(--space-l);

    p {
      color: var(--color-neutral-600);
      font-size: var(--font-size-1);
      line-height: 1.6;
    }
  }

  .hook-value {
    margin-bottom: var(--space-xl);

    p {
      color: var(--foreground-color);
      font-weight: 500;
      font-size: var(--font-size-2);
      line-height: 1.5;
    }
  }

  .hook-quote {
    border-left: 4px solid var(--link-color);
    padding-left: var(--space-l);
    font-style: italic;

    p {
      margin: 0;
      color: var(--link-color);
      font-weight: 500;
      font-size: var(--font-size-2);
    }
  }

  // Early Access Section
  .early-access-section {
    background: linear-gradient(
      135deg,
      light-dark(var(--color-primary-50), var(--color-primary-900)) 0%,
      light-dark(var(--color-secondary-50), var(--color-secondary-900)) 100%
    );
    padding-block: var(--space-4xl);
  }

  .early-access-content {
    margin: 0 auto;
    max-width: 700px;
    text-align: center;
  }

  .early-access-headline {
    margin-bottom: var(--space-l);
    color: var(--foreground-color);
    font-weight: 700;
    font-size: clamp(2.5rem, 5vw, 4rem);
    line-height: 1.1;
  }

  .early-access-description {
    margin-bottom: var(--space-2xl);
    color: var(--color-neutral-600);
    font-size: var(--font-size-1);
    line-height: 1.6;
  }

  .early-access-signup {
    display: flex;
    justify-content: center;
    margin-bottom: var(--space-2xl);
  }

  .early-access-benefits {
    margin-bottom: var(--space-xl);
    text-align: left;

    h3 {
      margin-bottom: var(--space-m);
      color: var(--foreground-color);
      font-weight: 600;
      font-size: var(--font-size-2);
      text-align: center;
    }
  }

  .benefits-list {
    display: grid;
    gap: var(--space-s);
    margin: 0;
    padding: 0;
    list-style: none;
  }

  .benefit-item {
    display: flex;
    align-items: center;
    gap: var(--space-s);
    color: var(--foreground-color);
    font-size: var(--font-size-1);

    svg {
      flex-shrink: 0;
      color: var(--color-secondary-400);
    }
  }

  .early-access-urgency {
    color: var(--color-neutral-600);
    font-style: italic;
    font-size: var(--font-size-0);
  }

  // Closing Section
  .closing-section {
    background-color: light-dark(var(--color-neutral-100), var(--color-neutral-800));
    padding-block: var(--space-3xl);
  }

  .closing-content {
    margin: 0 auto;
    max-width: 600px;
    text-align: center;
  }

  .closing-headline {
    margin-bottom: var(--space-l);
    color: var(--foreground-color);
    font-weight: 600;
    font-size: var(--font-size-4);
  }

  .closing-description {
    margin-bottom: var(--space-l);
    color: var(--color-neutral-600);
    font-size: var(--font-size-1);
    line-height: 1.6;
  }

  .closing-contact {
    margin-bottom: var(--space-m);
    color: var(--foreground-color);
    font-size: var(--font-size-1);

    a {
      color: var(--link-color);
      text-decoration: underline;

      &:hover {
        color: var(--link-hover-color);
      }
    }
  }

  .closing-languages {
    color: var(--color-neutral-500);
    font-style: italic;
    font-size: var(--font-size-0);
  }

  // Spacing between sections
  section + section {
    margin-top: 0;
  }

  // Dark mode adjustments
  :global(.darkmode) {
    .hook-section {
      background-color: var(--color-neutral-900);
    }

    .closing-section {
      background-color: var(--color-neutral-850);
    }
  }

  // Accessibility improvements
  .benefit-item:focus-within {
    @include outline;
    outline-offset: 2px;
    border-radius: var(--radius-s);
  }
</style>
