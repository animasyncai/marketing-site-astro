---
/**
 * Withinly Landing Page (English)
 *
 * @description Clean landing page using refined component architecture
 */

import DefaultLayout from '../layouts/DefaultLayout.astro'
import HeroWithinly from '../components/HeroWithinly.astro'
import HowItWorks from '../components/HowItWorks.astro'
import DifferentiatorSection from '../components/DifferentiatorSection.astro'
import FeatureComparison from '../components/FeatureComparison.astro'
import TestimonialSlider from '../components/TestimonialSlider.astro'
import TrustSignals from '../components/TrustSignals.astro'
import EmailSignup from '../components/EmailSignup.astro'
import Button from '../components/Button.astro'
import { Icon } from 'astro-icon/components'
import { getTranslationsFromUrl, getTranslation } from '../utils/useTranslation.js'

// Get translations for current language
const translations = await getTranslationsFromUrl(Astro.url.pathname)
const t = (key: string, fallback = '') => {
  return getTranslation(translations, key, {}, fallback)
}

// Page metadata
const pageTitle = t('meta.defaultTitle')
const pageDescription = t('meta.defaultDescription')
---

<DefaultLayout title={pageTitle} description={pageDescription}>
  <!-- Hero Section -->
  <HeroWithinly showSignup={false} />

  <!-- Opening Hook Section -->
  <section class="bg-white py-20">
    <div class="mx-auto max-w-4xl px-4 text-center sm:px-6 lg:px-8">
      <h2 class="mb-6 text-3xl font-bold text-gray-900 sm:text-4xl">
        {t('hook.headline')}
      </h2>
      <div class="space-y-6 text-lg leading-relaxed text-gray-600">
        <p>{t('hook.description')}</p>
        <p class="text-xl font-medium text-gray-900">{t('hook.value')}</p>
      </div>
      <blockquote class="text-primary mt-10 text-xl font-medium italic">
        "{t('hook.quote')}"
      </blockquote>
    </div>
  </section>

  <!-- How It Works Section -->
  <HowItWorks />

  <!-- What Makes Us Different -->
  <DifferentiatorSection />

  <!-- Pricing/Features Comparison -->
  <FeatureComparison showPricing={false} />

  <!-- Testimonials -->
  <TestimonialSlider autoPlay={false} />

  <!-- Trust & Safety -->
  <TrustSignals variant="horizontal" showDescriptions={true} />

  <!-- Early Access Section -->
  <section id="early-access" class="bg-gradient-to-br from-violet-600 to-blue-600 py-16 text-white">
    <div class="mx-auto max-w-3xl px-4 text-center sm:px-6 lg:px-8">
      <h2 class="mb-4 text-3xl font-bold sm:text-4xl">
        {t('earlyAccess.headline')}
      </h2>
      <p class="mb-10 text-xl leading-relaxed text-violet-100">
        {t('earlyAccess.description')}
      </p>

      <div class="mx-auto max-w-md">
        <EmailSignup
          variant="hero"
          showLabels={false}
          class="[&_button]:bg-white [&_button]:text-violet-600 [&_button]:hover:bg-gray-50 [&_input]:bg-white/90 [&_input]:text-gray-900"
        />
      </div>
    </div>
  </section>

  <!-- Closing Section -->
  <section class="bg-gray-50 py-12 text-center">
    <div class="mx-auto max-w-2xl px-4 sm:px-6 lg:px-8">
      <h2 class="mb-4 text-2xl font-bold text-gray-900">
        {t('closing.headline')}
      </h2>
      <p class="mb-6 leading-relaxed text-gray-600">
        {t('closing.description')}
      </p>
      <p class="text-gray-500">
        Questions? Email us at{' '}
        <a href="mailto:hello@withinly.com" class="text-violet-600 transition-colors hover:text-violet-700">
          hello@withinly.com
        </a>
      </p>
    </div>
  </section>
</DefaultLayout>
