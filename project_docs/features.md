# Features Overview

This section describes all features and their working principles in Withinly project.

# Traits

Traits are used to understand a user’s emotional and psychological picture. They consist of short questionnaires which are then evaluated and used to generate insights for the user, the AI consultant, and reports.

Currently we support 4 traits:

- **Love Language**
- **Attachment Type**
- **Mindfulness Level**
- **Self-Acceptance Level**

Each trait identifies **primary values** (e.g. `primaryLoveLanguage: Touch`), but we avoid static labels in user-facing text. Instead, results are translated into **storytelling and reflections**, so users don’t fixate on categories.

Every trait produces two outputs:

1. **User-facing mini report** — a predefined reflection shown only the first time the trait is completed.
2. **Psychologist Notes** — structured metadata used by the AI consultant to adapt tone, depth, and reflection style.

We may add more traits in the future to expand the report base or functionality, but the current set is stable.

---

## Love Language

- **Goal**: Identify primary and (optional) secondary love languages, plus archetypal expression styles.
- **User-facing title**: _The Way You Love_
- **Description**: _(to be generated)_
- **Prompt**: `/traits/love-language.md`
- **Example**: `/traits/love-language-example.md`

---

## Attachment Type

- **Goal**: Identify primary attachment style, intensity, and optional secondary style.
- **User-facing title**: _The Way You Attach_
- **Description**: _(to be generated)_
- **Prompt**: `/traits/attachment-type.md`
- **Example**: `/traits/attachment-type-example.md`

---

## Mindfulness Level

- **Goal**: Identify the user’s level of mindfulness and openness to change.
- **User-facing title**: _The Way You Stay Present_
- **Description**: _(to be generated)_
- **Prompt**: `/traits/mindfulness-level.md`
- **Example**: `/traits/mindfulness-level-example.md`

---

## Self-Acceptance Level

- **Goal**: Identify how the user accepts themselves and what narratives shape their self-view.
- **User-facing title**: _The Way You Hear Yourself_
- **Description**: _(to be generated)_
- **Prompt**: `/traits/self-acceptance.md`
- **Example**: `/traits/self-acceptance-example.md`

---

## Predefined Reports & Change Evaluation

- **Mini Reports** are fully predefined. When a user first completes a trait, they receive one of these pregenerated reflections. No AI is used.
- **Progress Feedback**: When a user retakes a questionnaire, the system compares **labels only** (e.g. attachment = _Avoidant → Anxious_, or love language = _Words → Touch_).
  - If the label is unchanged → show a predefined “stable” reflection.
  - If the label has changed → show a predefined “changed” reflection specific to the transition.
- This MVP approach avoids complex scoring logic and keeps costs low.
- If a trait changes significantly, the system can also flag associated reports (e.g. Master Report) as **recommended to regenerate**.

## Reports aka Inner Portrait

- Trait-based 1000-1500 word reports
- Each report requires certain traits to be done, they can be generated only if all required traits are done. They can be generated in any order.
- All reports are generated by AI based on prompts and data from traits (psychologistNotes) and questionairre answers.
- Each report costs tokens to generate
- Each report works standalone (no cross-referencing for cost efficiency)
- Each report generates AI consultant ready 200 word summary of the report for later use in chat (if needed)
- You can read more on reports in `information-architecture.md`

## Chat Assistant aka Reflection Companion

- Emotionally-aware AI chat for personal reflection
- Adapts tone and guidance based on user traits (uses psychologistNotes)
- Summarizes chat and extracts significant notes, but that is currently experimental. Prompt `/prompts/summarizeAntExtract.md`
- Token-metered conversation length
- Has access to report summarization via tool-based system (200 word summary of the report) - `/prompts/tool-report-summary.md`
- Main prompt `prompts/consultant.md` example with real data: `prompts/consultant-example.md`

Thoughts:

- Currently not performing that well and can be hacked to output labeled and structured data. Need improvement.
- While not limiting input, we think we should limit output length sometimes. Like it should only write long output if situation requires it - deep meaningful reflection or guidance - otherwise - meaning over word count. Not sure how to implement.
- Not sure how to price it yet.

## Tools

- Goal-setting and growth-oriented practices (planned)
- Vibe tracker and emotional pulse (planned)
- Longitudinal insight graphs (future feature)
